#include "stdio.h"
#include "stdlib.h"
#include "stdint.h"
#include <stdbool.h>   

static unsigned int CRC16Table[256] = { 0x0000,0xf8f9,0xf9f1,0x0108,0xfbe1,0x0318,0x0210,0xfae9,0xffc1,0x0738,0x0630,0xfec9,0x0420,0xfcd9,0xfdd1,0x0528,0xf781,0x0f78,0x0e70
,0xf689,0x0c60,0xf499,0xf591,0x0d68,0x0840,0xf0b9,0xf1b1,0x0948,0xf3a1,0x0b58,0x0a50,0xf2a9,0xe701,0x1ff8,0x1ef0,0xe609,0x1ce0,0xe419,0xe511,0x1de8,0x18c0,0xe039,0xe131,0x19c8,0xe321,0x1bd8,0x1ad0,0xe229,0x1080,0xe879,0xe971
,0x1188,0xeb61,0x1398,0x1290,0xea69,0xef41,0x17b8,0x16b0,0xee49,0x14a0,0xec59,0xed51,0x15a8,0xc601,0x3ef8,0x3ff0,0xc709,0x3de0,0xc519,0xc411,0x3ce8,0x39c0,	0xc139,0xc031,0x38c8,0xc221,0x3ad8,0x3bd0,0xc329,0x3180,0xc979,0xc871
,0x3088,0xca61,0x3298,0x3390,0xcb69,0xce41,0x36b8,0x37b0,0xcf49,0x35a0,0xcd59,0xcc51,0x34a8,0x2100,0xd9f9,0xd8f1,0x2008,0xdae1,0x2218,0x2310,0xdbe9,0xdec1,0x2638,0x2730,0xdfc9,0x2520,0xddd9,0xdcd1,0x2428,0xd681,0x2e78,0x2f70
,0xd789,0x2d60,0xd599,0xd491,0x2c68,0x2940,0xd1b9,0xd0b1,0x2848,0xd2a1,0x2a58,0x2b50,0xd3a9,0x8401,	0x7cf8,0x7df0,0x8509,0x7fe0,0x8719,0x8611,0x7ee8,0x7bc0,0x8339,0x8231,0x7ac8,0x8021,0x78d8,0x79d0,0x8129,0x7380,0x8b79,0x8a71
,0x7288,0x8861,0x7098,0x7190,0x8969,0x8c41,0x74b8,0x75b0,0x8d49,0x77a0,0x8f59,0x8e51,0x76a8,0x6300,0x9bf9,0x9af1,0x6208,0x98e1,0x6018,0x6110,0x99e9,0x9cc1,0x6438,0x6530,0x9dc9,0x6720,0x9fd9,0x9ed1,0x6628,0x9481,0x6c78,0x6d70
,0x9589,0x6f60,0x9799,0x9691,0x6e68,0x6b40,0x93b9,0x92b1,0x6a48,0x90a1,0x6858,0x6950,0x91a9,0x4200,0xbaf9,0xbbf1,0x4308,0xb9e1,0x4118,0x4010,0xb8e9,0xbdc1,0x4538,0x4430,0xbcc9,0x4620,0xbed9,0xbfd1,0x4728,0xb581,0x4d78,0x4c70
,0xb489,0x4e60,0xb699,0xb791,0x4f68,0x4a40,0xb2b9,0xb3b1,0x4b48,0xb1a1,0x4958,0x4850,0xb0a9,0xa501,0x5df8,0x5cf0,0xa409,0x5ee0,0xa619,0xa711,0x5fe8,0x5ac0,0xa239,0xa331,0x5bc8,0xa121,0x59d8,0x58d0,0xa029,0x5280,0xaa79,0xab71
,0x5388,0xa961,0x5198,0x5090,0xa869,0xad41,0x55b8,0x54b0,0xac49,0x56a0,0xae59,0xaf51,0x57a8
};

bool crc16_head_check(uint8_t* buf, uint16_t len);
uint16_t crc16_make(uint8_t* buf, uint16_t len);
void generate_head_crc(uint8_t* buf);
